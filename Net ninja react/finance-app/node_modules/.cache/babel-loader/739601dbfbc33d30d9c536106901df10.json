{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { projectAuth } from '../firebase/config';\nimport { useAuthContext } from './useAuthContext';\nexport const useSignup = () => {\n  _s();\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const {\n    dispatch\n  } = useAuthContext();\n  const signup = async (email, password, username) => {\n    setError(null);\n    setIsPending(true);\n    try {\n      //signup user\n      const response = await projectAuth.createUserWithEmailAndPassword(email, password);\n      if (!response) {\n        throw new Error(\"Could not complete signup\");\n      }\n\n      // add display name to user\n      await response.user.updateProfile({\n        username\n      });\n\n      // dispatch login action\n      dispatch({\n        type: 'LOGIN',\n        payload: response.user\n      });\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      console.log(err.message);\n      setError(err.message);\n      setIsPending(false);\n    }\n  };\n  useEffect(() => {\n    return () => {\n      setIsCancelled(true);\n    };\n  }, []);\n  return {\n    error,\n    isPending,\n    signup\n  };\n};\n_s(useSignup, \"hTOV8Imjo4OuLwIE2VxfdW4lX98=\", false, function () {\n  return [useAuthContext];\n});","map":{"version":3,"names":["useState","projectAuth","useAuthContext","useSignup","isCancelled","setIsCancelled","error","setError","isPending","setIsPending","dispatch","signup","email","password","username","response","createUserWithEmailAndPassword","Error","user","updateProfile","type","payload","err","console","log","message","useEffect"],"sources":["/home/bahubali/Code/Projects/Net ninja react/finance-app/src/hooks/useSignup.js"],"sourcesContent":["import {useState} from 'react';\nimport { projectAuth } from '../firebase/config';\nimport { useAuthContext } from './useAuthContext';\n\nexport const useSignup = ()=>{\n\n    const [isCancelled, setIsCancelled] = useState(false);\n    const [error, setError] = useState(null);\n    const [isPending,setIsPending] = useState(false);\n    const {dispatch} = useAuthContext();\n    const signup = async (email,password,username) =>{\n        setError(null);\n        setIsPending(true);\n\n        try\n        {\n            //signup user\n            const response = await projectAuth.createUserWithEmailAndPassword(email,password);\n\n\n            if(!response)\n            {\n                throw new Error(\"Could not complete signup\");\n            }\n\n            // add display name to user\n            await response.user.updateProfile({username})\n\n            // dispatch login action\n            dispatch({type:'LOGIN', payload:response.user})\n\n            if(!isCancelled)\n            {\n\n\n            setIsPending(false);\n            setError(null);\n            }\n\n        }\n        catch(err)\n        {\n            console.log(err.message);\n            setError(err.message);\n            setIsPending(false);\n        }\n\n    }\n\n    useEffect(()=>{\n        return ()=>{\n            setIsCancelled(true);\n        }\n    },[])\n\n    return {error, isPending, signup}\n}\n"],"mappings":";AAAA,SAAQA,QAAQ,QAAO,OAAO;AAC9B,SAASC,WAAW,QAAQ,oBAAoB;AAChD,SAASC,cAAc,QAAQ,kBAAkB;AAEjD,OAAO,MAAMC,SAAS,GAAG,MAAI;EAAA;EAEzB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACQ,SAAS,EAACC,YAAY,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAChD,MAAM;IAACU;EAAQ,CAAC,GAAGR,cAAc,EAAE;EACnC,MAAMS,MAAM,GAAG,OAAOC,KAAK,EAACC,QAAQ,EAACC,QAAQ,KAAI;IAC7CP,QAAQ,CAAC,IAAI,CAAC;IACdE,YAAY,CAAC,IAAI,CAAC;IAElB,IACA;MACI;MACA,MAAMM,QAAQ,GAAG,MAAMd,WAAW,CAACe,8BAA8B,CAACJ,KAAK,EAACC,QAAQ,CAAC;MAGjF,IAAG,CAACE,QAAQ,EACZ;QACI,MAAM,IAAIE,KAAK,CAAC,2BAA2B,CAAC;MAChD;;MAEA;MACA,MAAMF,QAAQ,CAACG,IAAI,CAACC,aAAa,CAAC;QAACL;MAAQ,CAAC,CAAC;;MAE7C;MACAJ,QAAQ,CAAC;QAACU,IAAI,EAAC,OAAO;QAAEC,OAAO,EAACN,QAAQ,CAACG;MAAI,CAAC,CAAC;MAE/C,IAAG,CAACd,WAAW,EACf;QAGAK,YAAY,CAAC,KAAK,CAAC;QACnBF,QAAQ,CAAC,IAAI,CAAC;MACd;IAEJ,CAAC,CACD,OAAMe,GAAG,EACT;MACIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,OAAO,CAAC;MACxBlB,QAAQ,CAACe,GAAG,CAACG,OAAO,CAAC;MACrBhB,YAAY,CAAC,KAAK,CAAC;IACvB;EAEJ,CAAC;EAEDiB,SAAS,CAAC,MAAI;IACV,OAAO,MAAI;MACPrB,cAAc,CAAC,IAAI,CAAC;IACxB,CAAC;EACL,CAAC,EAAC,EAAE,CAAC;EAEL,OAAO;IAACC,KAAK;IAAEE,SAAS;IAAEG;EAAM,CAAC;AACrC,CAAC;AAAA,GApDYR,SAAS;EAAA,QAKCD,cAAc;AAAA"},"metadata":{},"sourceType":"module"}
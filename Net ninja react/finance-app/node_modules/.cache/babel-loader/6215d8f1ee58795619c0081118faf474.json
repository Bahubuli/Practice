{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { projectAuth } from '../firebase/config';\nimport { useAuthContext } from './useAuthContext';\nz;\n// in the component we are trying to do something\n// that is trying to logout waiting for backend to\n// actually logout and then do changes\n// but if we unmount the component in between the process\n// then our cleanup function fires\n// where we set isCancelled as true and we put\n// consition for changing the state this condition\n//\n\nexport const useLogin = (email, password) => {\n  _s();\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [IsPending, setIsPending] = useState(false);\n  const {\n    dispatch\n  } = useAuthContext();\n  const login = async () => {\n    setError(null);\n    setIsPending(true);\n    try {\n      const res = await projectAuth.signInWithEmailAndPassword(email, password);\n      // dispatch logout action\n      dispatch({\n        type: 'LOGIN',\n        payload: res.user\n      });\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        console.log(err.message);\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n  useEffect(() => {\n    return () => {\n      setIsCancelled(true);\n    };\n  }, []);\n  return {\n    login,\n    error,\n    IsPending\n  };\n};\n_s(useLogin, \"QM+PfadJP+pA9iCJ0RIaZ5uOkYc=\", false, function () {\n  return [useAuthContext];\n});","map":{"version":3,"names":["useState","useEffect","projectAuth","useAuthContext","z","useLogin","email","password","isCancelled","setIsCancelled","error","setError","IsPending","setIsPending","dispatch","login","res","signInWithEmailAndPassword","type","payload","user","err","console","log","message"],"sources":["/home/bahubali/Code/Projects/Net ninja react/finance-app/src/hooks/useLogin.js"],"sourcesContent":["import {useState, useEffect} from 'react';\nimport { projectAuth } from '../firebase/config';\nimport { useAuthContext } from './useAuthContext';\nz\n// in the component we are trying to do something\n// that is trying to logout waiting for backend to\n// actually logout and then do changes\n// but if we unmount the component in between the process\n// then our cleanup function fires\n// where we set isCancelled as true and we put\n// consition for changing the state this condition\n//\n\n\nexport const useLogin = (email,password) =>{\n\n    const [isCancelled, setIsCancelled] = useState(false);\n    const [error,setError] = useState(null);\n    const [IsPending,setIsPending] = useState(false);\n    const {dispatch} = useAuthContext();\n\n    const login = async ()=>{\n        setError(null);\n        setIsPending(true);\n\n    try {\n        const res =  await projectAuth.signInWithEmailAndPassword(email,password);\n        // dispatch logout action\n        dispatch({type:'LOGIN',payload:res.user})\n\n        if(!isCancelled)\n        {\n            setIsPending(false);\n            setError(null);\n        }\n\n    } catch (err) {\n        if(!isCancelled)\n        {\n            console.log(err.message)\n            setError(err.message);\n            setIsPending(false);\n        }\n    }\n}\nuseEffect(()=>{\n    return ()=>{\n        setIsCancelled(true);\n    }\n},[])\n\n    return {login,error,IsPending}\n}\n"],"mappings":";AAAA,SAAQA,QAAQ,EAAEC,SAAS,QAAO,OAAO;AACzC,SAASC,WAAW,QAAQ,oBAAoB;AAChD,SAASC,cAAc,QAAQ,kBAAkB;AACjDC,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,OAAO,MAAMC,QAAQ,GAAG,CAACC,KAAK,EAACC,QAAQ,KAAI;EAAA;EAEvC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACU,KAAK,EAACC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACvC,MAAM,CAACY,SAAS,EAACC,YAAY,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EAChD,MAAM;IAACc;EAAQ,CAAC,GAAGX,cAAc,EAAE;EAEnC,MAAMY,KAAK,GAAG,YAAU;IACpBJ,QAAQ,CAAC,IAAI,CAAC;IACdE,YAAY,CAAC,IAAI,CAAC;IAEtB,IAAI;MACA,MAAMG,GAAG,GAAI,MAAMd,WAAW,CAACe,0BAA0B,CAACX,KAAK,EAACC,QAAQ,CAAC;MACzE;MACAO,QAAQ,CAAC;QAACI,IAAI,EAAC,OAAO;QAACC,OAAO,EAACH,GAAG,CAACI;MAAI,CAAC,CAAC;MAEzC,IAAG,CAACZ,WAAW,EACf;QACIK,YAAY,CAAC,KAAK,CAAC;QACnBF,QAAQ,CAAC,IAAI,CAAC;MAClB;IAEJ,CAAC,CAAC,OAAOU,GAAG,EAAE;MACV,IAAG,CAACb,WAAW,EACf;QACIc,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,OAAO,CAAC;QACxBb,QAAQ,CAACU,GAAG,CAACG,OAAO,CAAC;QACrBX,YAAY,CAAC,KAAK,CAAC;MACvB;IACJ;EACJ,CAAC;EACDZ,SAAS,CAAC,MAAI;IACV,OAAO,MAAI;MACPQ,cAAc,CAAC,IAAI,CAAC;IACxB,CAAC;EACL,CAAC,EAAC,EAAE,CAAC;EAED,OAAO;IAACM,KAAK;IAACL,KAAK;IAACE;EAAS,CAAC;AAClC,CAAC;AAAA,GAtCYP,QAAQ;EAAA,QAKEF,cAAc;AAAA"},"metadata":{},"sourceType":"module"}
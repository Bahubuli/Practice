{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from 'react';\nimport { projectFirestore } from '../firebase/config';\nexport const useCollection = (collection, _query) => {\n  _s();\n  const [documents, setDocuments] = useState(null);\n  const [error, setError] = useState(null);\n  const query = useRef(_query).current;\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection);\n    if (query) {\n      ref = ref.where(...query);\n    }\n    const unsub = ref.onSnapshot(snapshot => {\n      let results = [];\n      snapshot.docs.forEach(doc => {\n        results.push({\n          ...doc.data(),\n          id: doc.id\n        });\n      });\n      setDocuments(results);\n      setError(null);\n    }, error => {\n      console.log(error);\n      setError(\"could not fetch the data\");\n    });\n    return () => unsub();\n  }, [collection, query]);\n  return {\n    documents,\n    error\n  };\n};\n_s(useCollection, \"NZZYPuorc1WkcjJdLfxX+qHxW3E=\");","map":{"version":3,"names":["useEffect","useState","useRef","projectFirestore","useCollection","collection","_query","documents","setDocuments","error","setError","query","current","ref","where","unsub","onSnapshot","snapshot","results","docs","forEach","doc","push","data","id","console","log"],"sources":["/home/bahubali/Code/Projects/Net ninja react/finance-app/src/hooks/useCollection.js"],"sourcesContent":["import {useEffect, useState,useRef} from 'react'\nimport { projectFirestore } from '../firebase/config'\n\n\nexport const useCollection = (collection,_query) =>{\n\n    const [documents,setDocuments] = useState(null);\n    const [error,setError] = useState(null);\n\n    const query = useRef(_query).current;\n\n    useEffect(()=>{\n        let ref = projectFirestore.collection(collection)\n\n        if(query)\n        {\n            ref = ref.where(...query);\n        }\n\n        const unsub = ref.onSnapshot((snapshot)=>{\n            let results = []\n            snapshot.docs.forEach(doc=>{\n                results.push({...doc.data(),id:doc.id})\n            })\n            setDocuments(results);\n            setError(null);\n        },(error)=>{\n            console.log(error);\n            setError(\"could not fetch the data\")\n        })\n\n        return ()=> unsub();\n\n    },[collection,query])\n\n    return {documents,error};\n}\n"],"mappings":";AAAA,SAAQA,SAAS,EAAEC,QAAQ,EAACC,MAAM,QAAO,OAAO;AAChD,SAASC,gBAAgB,QAAQ,oBAAoB;AAGrD,OAAO,MAAMC,aAAa,GAAG,CAACC,UAAU,EAACC,MAAM,KAAI;EAAA;EAE/C,MAAM,CAACC,SAAS,EAACC,YAAY,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAC/C,MAAM,CAACQ,KAAK,EAACC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAEvC,MAAMU,KAAK,GAAGT,MAAM,CAACI,MAAM,CAAC,CAACM,OAAO;EAEpCZ,SAAS,CAAC,MAAI;IACV,IAAIa,GAAG,GAAGV,gBAAgB,CAACE,UAAU,CAACA,UAAU,CAAC;IAEjD,IAAGM,KAAK,EACR;MACIE,GAAG,GAAGA,GAAG,CAACC,KAAK,CAAC,GAAGH,KAAK,CAAC;IAC7B;IAEA,MAAMI,KAAK,GAAGF,GAAG,CAACG,UAAU,CAAEC,QAAQ,IAAG;MACrC,IAAIC,OAAO,GAAG,EAAE;MAChBD,QAAQ,CAACE,IAAI,CAACC,OAAO,CAACC,GAAG,IAAE;QACvBH,OAAO,CAACI,IAAI,CAAC;UAAC,GAAGD,GAAG,CAACE,IAAI,EAAE;UAACC,EAAE,EAACH,GAAG,CAACG;QAAE,CAAC,CAAC;MAC3C,CAAC,CAAC;MACFhB,YAAY,CAACU,OAAO,CAAC;MACrBR,QAAQ,CAAC,IAAI,CAAC;IAClB,CAAC,EAAED,KAAK,IAAG;MACPgB,OAAO,CAACC,GAAG,CAACjB,KAAK,CAAC;MAClBC,QAAQ,CAAC,0BAA0B,CAAC;IACxC,CAAC,CAAC;IAEF,OAAO,MAAKK,KAAK,EAAE;EAEvB,CAAC,EAAC,CAACV,UAAU,EAACM,KAAK,CAAC,CAAC;EAErB,OAAO;IAACJ,SAAS;IAACE;EAAK,CAAC;AAC5B,CAAC;AAAA,GAhCYL,aAAa"},"metadata":{},"sourceType":"module"}
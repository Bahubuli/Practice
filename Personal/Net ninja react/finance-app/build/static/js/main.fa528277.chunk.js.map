{"version":3,"sources":["pages/home/Home.module.css","components/Navbar.module.css","pages/login/Login.module.css","pages/signup/Signup.module.css","firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","pages/home/DisplayBalance.js","hooks/useFireStore.js","pages/home/TransactionForm.js","pages/home/TransactionList.js","pages/home/Home.js","hooks/useCollection.js","hooks/useLogin.js","pages/login/Login.js","pages/signup/Signup.js","hooks/useSignup.js","components/Navbar.js","hooks/useLogout.js","App.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","Provider","value","useAuthContext","context","useContext","Error","DisplayBalance","transactions","useState","balance","setBalance","income","setIncome","expense","setExpense","map","t","amount","prev","parseInt","className","styles","balance_amount","income_expense","initialState","document","isPending","error","success","firestoreReducer","useFireStore","collection","response","isCancelled","setIsCancelled","ref","dispatchIfNotCancelled","addDocument","doc","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","id","delete","deletedDocument","TransactionForm","uid","name","setName","setAmount","onSubmit","e","preventDefault","required","onChange","target","TransactionList","transaction","onClick","Home","_query","_orderBy","documents","setDocuments","setError","query","useRef","current","orderBy","where","onSnapshot","snapshot","results","docs","forEach","push","data","console","log","useCollection","container","content","sidebar","Login","email","setEmail","password","setPassword","IsPending","setIsPending","login","signInWithEmailAndPassword","res","useLogin","disabled","Signup","username","setUsername","signup","displayName","createUserWithEmailAndPassword","updateProfile","useSignup","Navbar","logout","a","signOut","useLogout","navbar","title","to","App","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fa528277.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__3YbB7\",\"content\":\"Home_content__tFHdP\",\"sidebar\":\"Home_sidebar__3E4OM\",\"transactions\":\"Home_transactions__3Ebvf\",\"name\":\"Home_name__1lBH9\",\"amount\":\"Home_amount__1sRQ-\",\"income_expense\":\"Home_income_expense__3DSSt\",\"income\":\"Home_income__1JK-l\",\"expense\":\"Home_expense__27obk\",\"balance\":\"Home_balance__1KLJI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__PTBww\",\"title\":\"Navbar_title__3m485\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form___QXAr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__1lCm5\"};","import firebase from 'firebase/app';\r\n\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCFBErUn0KdMDpzbHNWX6pf7mY693fssSA\",\r\n    authDomain: \"financeapp-e89d5.firebaseapp.com\",\r\n    projectId: \"financeapp-e89d5\",\r\n    storageBucket: \"financeapp-e89d5.appspot.com\",\r\n    messagingSenderId: \"770817232509\",\r\n    appId: \"1:770817232509:web:3b5b9b0d6807952144eb14\"\r\n  };\r\n\r\n  //init firebase\r\n\r\n  firebase.initializeApp(firebaseConfig)\r\n\r\n  const projectFirestore = firebase.firestore();\r\n\r\n  const projectAuth = firebase.auth();\r\n\r\n  const timestamp = firebase.firestore.Timestamp;\r\n  \r\n  export {projectFirestore, projectAuth,timestamp};\r\n","import {createContext, useReducer,useEffect} from 'react'\r\nimport { projectAuth } from '../firebase/config';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const authReducer = (state,action)=>{\r\n\r\n    switch(action.type)\r\n    {\r\n        case 'LOGIN':\r\n            return {...state, user:action.payload}\r\n        case 'LOGOUT':\r\n            return {...state,user:null};\r\n        case 'AUTH_IS_READY':\r\n            return {...state, user:action.payload,authIsReady:true}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const AuthContextProvider = ({children})=>{\r\n\r\n    const [state,dispatch] = useReducer(authReducer,{\r\n        user:null,\r\n        authIsReady:false\r\n    })\r\n// now this function will fire everytime there is some\r\n// authentication state change\r\n// but firebase does not have any removeEventListener\r\n// like function but it returns a function that do the\r\n// same work\r\n\r\n    useEffect(()=>{\r\n        const unsub = projectAuth.onAuthStateChanged((user)=>{\r\n            dispatch({type:'AUTH_IS_READY',payload:user})\r\n            unsub();\r\n        })\r\n\r\n\r\n    },[])\r\n\r\n    return (\r\n        <AuthContext.Provider value = {{...state, dispatch}}>\r\n            {children};\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\n\r\n/*\r\nwhy we are calling function inside function discussion\r\n----------\r\nonAuthStateChanged takes a function as it's only argument. That function is the one that will be invoked whenever the auth state changes. So the code\r\n\r\nfunction printHelloWorld() {\r\n    console.log(\"Hello World\")\r\n}\r\n\r\nfirebase.auth().onAuthStateChanged(printHelloWorld)\r\nWill print \"Hello World\" to the console, any time the auth state changes. But, at some later time, we want to stop that function from executing anymore, because we've already done whatever we need to. If you're familiar with event listeners, they use a pattern where to remove one, you would call something like removeEventListener. But firebase does not have a offAuthStateChanged or some such. Instead the onAuthStateChanged function returns a function to you that unsubscribes the function you originally gave it. To be clear, it does not return your original function (the one you gave it, so printHelloWorld in this example), but returns you a new function that can be used to remove the original.\r\n\r\nSo going back to the example:\r\n\r\nfunction printHelloWorld() {\r\n    console.log(\"Hello World\")\r\n}\r\n\r\nvar unsubscribe = firebase.auth().onAuthStateChanged(printHelloWorld)\r\n\r\n// ... Sometime later when we are no longer interested in auth changes\r\nunsubscribe();\r\n// From this point forward, when the auth state changes, printHelloWorld will no longer be triggered.\r\nFinally, suppose that you only want to have a function run on auth changes, but only one time. The simplest way to do that would be to have it run once, then unsubscribe it. So the code:\r\n\r\nvar unsubscribe = firebase.auth().onAuthStateChanged(() => {\r\n    console.log(\"Hello World\")\r\n    unsubscribe()\r\n})\r\nmeans that the first time auth state changes, we will log the string, then immediately unsubscribe from further changes. So by calling the unsubscribe from within the function itself, we are just saying, run one time, then remove yourself.\r\n\r\nAlso, note that you can call unsubscribe at the beginning or end of the function, it doesn't matter. The entire function body will execute, just like any other. So calling unsubscribe won't halt the execution of the remainder of the function, or anything like that.\r\n\r\nThis is why things like\r\n\r\nvar unsubscribe = firebase.auth().onAuthStateChanged(() => {\r\n    unsubscribe()\r\n    // Lots of other code here...\r\n});\r\nis such a common pattern.\r\n*/\r\n","import { AuthContext } from \"../context/AuthContext\";\r\nimport { useContext } from \"react\";\r\n\r\nexport const useAuthContext =()=>\r\n{\r\n    const context = useContext(AuthContext);\r\n\r\n    if(!context) throw Error(\"useAuthContext must be inside a AuthContextProvider\")\r\n\r\n    return context;\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport  styles from './Home.module.css';\r\n\r\nimport { useState } from 'react';\r\n\r\nexport default function DisplayBalance({transactions}) {\r\n\r\n    const [balance,setBalance] = useState(0);\r\n    const [income,setIncome] = useState(0);\r\n    const [expense,setExpense] = useState(0);\r\n\r\n\r\n    useEffect(()=>{\r\n        setIncome(0);\r\n        setExpense(0);\r\n        setBalance(0);\r\n        transactions.map((t)=>{\r\n            if(t.amount<0) setExpense(prev => prev+parseInt(t.amount))\r\n            else setIncome(prev =>prev+parseInt(t.amount));\r\n            setBalance(prev =>prev+parseInt(t.amount));\r\n        })\r\n\r\n    },[transactions])\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n    <div className = {styles.balance}>\r\n            <p className = {styles.balance_amount}>\r\n                <p>Your Balance </p>\r\n                <p>₹{balance}</p>\r\n            </p>\r\n        </div>\r\n        <div className = {styles.income_expense}>\r\n            <div className = {styles.income}>\r\n                <p>Income</p>\r\n                <p>₹{income}</p>\r\n            </div>\r\n            <div className = {styles.expense}>\r\n                <p>Expense</p>\r\n                <p >₹{expense}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n","import {useReducer, useEffect, useState}  from 'react';\r\nimport {projectFirestore,timestamp} from '../firebase/config';\r\n\r\nlet initialState = {\r\n    document:null,\r\n    isPending:false,\r\n    error:null,\r\n    success:null\r\n}\r\n\r\nconst firestoreReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case \"IS_PENDING\":\r\n        return {success: false, isPending: true, error: null, document: null}\r\n      case \"ERROR\":\r\n        return {success: false, isPending: false, error: action.payload, document: null}\r\n      case \"ADDED_DOCUMENT\":\r\n        return {success: true, isPending: false, error: null, document: action.payload}\r\n        case \"DELETED_DOCUMENT\":\r\n            return {success: true, isPending: false, error: null, document: action.payload}\r\n      default:\r\n        return state\r\n    }\r\n  }\r\n\r\n  export const useFireStore = (collection) => {\r\n    const [response, dispatch] = useReducer(firestoreReducer, initialState)\r\n    const [isCancelled, setIsCancelled] = useState(false)\r\n\r\n    // collection ref\r\n    const ref = projectFirestore.collection(collection)\r\n\r\n    // only dispatch if not cancelled\r\n    const dispatchIfNotCancelled = (action) => {\r\n      if (!isCancelled) {\r\n        dispatch(action)\r\n      }\r\n    }\r\n\r\n    // add a document\r\n    const addDocument = async (doc) => {\r\n      dispatch({ type: \"IS_PENDING\" })\r\n\r\n      try {\r\n        const createdAt = timestamp.fromDate(new Date())\r\n        const addedDocument = await ref.add({...doc, createdAt })\r\n        dispatchIfNotCancelled({ type: \"ADDED_DOCUMENT\", payload: addedDocument })\r\n      }\r\n      catch (err) {\r\n        dispatchIfNotCancelled({ type: \"ERROR\", payload: err.message })\r\n      }\r\n\r\n    }\r\n\r\n    // delete a document\r\n    const deleteDocument = async (id) => {\r\n        dispatch({type:\"IS_PENDING\"})\r\n\r\n        try {\r\n            const deletedDocument = await ref.doc(id).delete();\r\n            dispatchIfNotCancelled({type:\"DELETED_DOCUMENT\",payload:deletedDocument})\r\n        } catch (error) {\r\n            dispatchIfNotCancelled({type:\"ERROR\",payload:\"could not delete\"})\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n      return () => setIsCancelled(true)\r\n    }, [])\r\n\r\n    return { addDocument, deleteDocument, response }\r\n\r\n  }\r\n\r\n\r\n ","import {useState,useEffect} from 'react'\r\n\r\nimport {useFireStore} from '../../hooks/useFireStore';\r\n\r\nexport default function TransactionForm({uid}) {\r\n\r\n    const [name,setName] = useState(\"\");\r\n    const [amount,setAmount] = useState(\"\");\r\n    const {addDocument,response}  = useFireStore('transactions')\r\n    const handleSubmit = (e)=>{\r\n        e.preventDefault();\r\n        addDocument({\r\n            uid,\r\n            name,\r\n            amount\r\n        })\r\n\r\n    }\r\n\r\n    // reset the form fields\r\n    useEffect(() => {\r\n        if (response.success) {\r\n          setName('')\r\n          setAmount('')\r\n        }\r\n      }, [response.success])\r\n\r\n      return (\r\n        <>\r\n          <h3>Add a Transaction</h3>\r\n          <form onSubmit={handleSubmit}>\r\n            <label>\r\n              <span>Transaction name:</span>\r\n              <input\r\n                type=\"text\"\r\n                required\r\n                onChange={(e) => setName(e.target.value)}\r\n                value={name}\r\n              />\r\n            </label>\r\n            <label>\r\n              <span>Amount (₹):</span>\r\n              <input\r\n                type=\"number\"\r\n                required\r\n                onChange={(e) => setAmount(e.target.value)}\r\n                value={amount}\r\n              />\r\n            </label>\r\n            <button>Add Transaction</button>\r\n          </form>\r\n        </>\r\n      )\r\n}\r\n","\r\nimport  styles from './Home.module.css';\r\nimport { useFireStore } from '../../hooks/useFireStore';\r\nimport { useState } from 'react';\r\nexport default function TransactionList({transactions})\r\n{\r\n    const {deleteDocument,response} = useFireStore(\"transactions\");\r\n\r\n  return (\r\n\r\n\r\n            <ul className = {styles.transactions}>\r\n            {transactions.map((transaction)=>(\r\n                <li key = {transaction.id}>\r\n                    <p className = {styles.name}>{transaction.name}</p>\r\n                    <p className = {styles.amount}>₹ {transaction.amount}</p>\r\n                    <button onClick = {()=>deleteDocument(transaction.id)}>X</button>\r\n                </li>\r\n            ))}\r\n            </ul>\r\n\r\n  )\r\n}\r\n","import { useAuthContext } from '../../hooks/useAuthContext'\r\nimport { useCollection } from '../../hooks/useCollection';\r\nimport DisplayBalance from './DisplayBalance';\r\n// styles\r\nimport styles from './Home.module.css'\r\n\r\n// components\r\nimport TransactionForm from './TransactionForm'\r\nimport TransactionList from './TransactionList';\r\n\r\n\r\nexport default function Home() {\r\n\r\n    const {user} = useAuthContext();\r\n    const {documents,error} = useCollection(\r\n        'transactions',\r\n        [\"uid\",\"==\",user.uid],\r\n        [\"createdAt\",\"desc\"]);\r\n\r\n  return (\r\n    <div className = {styles.container}>\r\n        <div className = {styles.content}>\r\n            {error && <p>{error}</p>}\r\n            {documents && <DisplayBalance transactions = {documents}/>}\r\n            {documents && <TransactionList transactions = {documents}/>}\r\n        </div>\r\n\r\n        <div className = {styles.sidebar}>\r\n            <TransactionForm uid = {user.uid}/>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n","import {useEffect, useState,useRef} from 'react'\r\nimport { projectFirestore } from '../firebase/config'\r\n\r\n\r\nexport const useCollection = (collection,_query,_orderBy) =>{\r\n\r\n    const [documents,setDocuments] = useState(null);\r\n    const [error,setError] = useState(null);\r\n\r\n    const query = useRef(_query).current;\r\n    const orderBy = useRef(_orderBy).current;\r\n\r\n    useEffect(()=>{\r\n        let ref = projectFirestore.collection(collection)\r\n\r\n        if(query)\r\n        {\r\n            ref = ref.where(...query);\r\n        }\r\n        if(orderBy)\r\n        {\r\n            ref  = ref.orderBy(...orderBy)\r\n        }\r\n\r\n        const unsub = ref.onSnapshot((snapshot)=>{\r\n            let results = []\r\n            snapshot.docs.forEach(doc=>{\r\n                results.push({...doc.data(),id:doc.id})\r\n            })\r\n            setDocuments(results);\r\n            setError(null);\r\n        },(error)=>{\r\n            console.log(error);\r\n            setError(\"could not fetch the data\")\r\n        })\r\n\r\n        return ()=> unsub();\r\n\r\n    },[collection,query])\r\n\r\n    return {documents,error};\r\n}\r\n","import {useState, useEffect} from 'react';\r\nimport { projectAuth } from '../firebase/config';\r\nimport { useAuthContext } from './useAuthContext';\r\n\r\n// in the component we are trying to do something\r\n// that is trying to logout waiting for backend to\r\n// actually logout and then do changes\r\n// but if we unmount the component in between the process\r\n// then our cleanup function fires\r\n// where we set isCancelled as true and we put\r\n// consition for changing the state this condition\r\n//\r\n\r\n\r\nexport const useLogin = () =>{\r\n\r\n    const [isCancelled, setIsCancelled] = useState(false);\r\n    const [error,setError] = useState(null);\r\n    const [IsPending,setIsPending] = useState(false);\r\n    const {dispatch} = useAuthContext();\r\n\r\n    const login = async (email,password)=>{\r\n        setError(null);\r\n        setIsPending(true);\r\n\r\n    try {\r\n        const res =  await projectAuth.signInWithEmailAndPassword(email,password);\r\n        // dispatch logout action\r\n        dispatch({type:'LOGIN',payload:res.user})\r\n\r\n        if(!isCancelled)\r\n        {\r\n            setIsPending(false);\r\n            setError(null);\r\n        }\r\n\r\n    } catch (err) {\r\n        if(!isCancelled)\r\n        {\r\n            console.log(err.message)\r\n            setError(err.message);\r\n            setIsPending(false);\r\n        }\r\n    }\r\n}\r\nuseEffect(()=>{\r\n    return ()=>{\r\n        setIsCancelled(true);\r\n    }\r\n},[])\r\n\r\n    return {login,error,IsPending}\r\n}\r\n","// import {useState} from 'react';\r\n// import styles from './Login.module.css';\r\n\r\n// import { useLogin } from '../../hooks/useLogin';\r\n\r\n// export default function Login() {\r\n//     const [email, setEmail] = useState(\"\");\r\n//     const [password, setPassword] = useState(\"\");\r\n\r\n//     const {login, error, isPending} = useLogin();\r\n\r\n//     const handleSubmit = (e)=>{\r\n//         e.preventDefault();\r\n//         console.log(email,password);\r\n//         login(email,password);\r\n//     }\r\n//   return (\r\n//     <form onSubmit = {handleSubmit} className = {styles[\"login-form\"]}>\r\n//         <h2>Login</h2>\r\n//         <label>\r\n//             <span>email:</span>\r\n//             <input type = \"email\"\r\n//               onChange = {(e)=> setEmail(e.target.value)}\r\n//               value = {email}/>\r\n//         </label>\r\n//         <label>\r\n//             <span>password:</span>\r\n//             <input type = \"password\"\r\n//              onChange = {(e)=>{ setPassword(e.target.value)}}\r\n//              value = {password}/>\r\n//         </label>\r\n\r\n//         {!isPending && <button className = \"btn\">Login</button>}\r\n//         {isPending && <button className = \"btn\">Loading..</button>}\r\n//           {error && <p>{error}</p>}\r\n//     </form>\r\n//   )\r\n// }\r\n\r\n\r\nimport { useState } from 'react'\r\nimport { useLogin } from '../../hooks/useLogin'\r\n\r\n// styles\r\nimport styles from './Login.module.css'\r\n\r\nexport default function Login() {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const { login, error, isPending } = useLogin()\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    login(email, password)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={styles['login-form']}>\r\n      <h2>login</h2>\r\n      <label>\r\n        <span>email:</span>\r\n        <input\r\n          type=\"email\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          value={email}\r\n        />\r\n      </label>\r\n      <label>\r\n        <span>password:</span>\r\n        <input\r\n          type=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          value={password}\r\n        />\r\n      </label>\r\n      { !isPending && <button className=\"btn\">Login</button> }\r\n      { isPending && <button className=\"btn\" disabled>loading</button> }\r\n      { error && <p>{error}</p> }\r\n    </form>\r\n  )\r\n}\r\n","import {useState} from 'react';\r\nimport styles from './Signup.module.css';\r\n\r\nimport {useSignup} from '../../hooks/useSignup'\r\n\r\nexport default function Signup() {\r\n\r\n    const [username,setUsername] = useState(\"\");\r\n    const [email,setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    const {signup ,isPending, error} = useSignup();\r\n\r\n const handleSubmit = (e)=>{\r\n    e.preventDefault();\r\n    signup(email,password,username);\r\n }\r\n\r\n  return (\r\n    <form className = {styles[\"signup-form\"]}>\r\n        <h2>Signup</h2>\r\n        <label>\r\n            <span>username:</span>\r\n            <input type = \"text\"\r\n            onChange = {(e)=>setUsername(e.target.value)}/>\r\n        </label>\r\n        <label>\r\n            <span>email:</span>\r\n            <input type = \"email\"\r\n            onChange = {(e)=>setEmail(e.target.value)}/>\r\n        </label>\r\n        <label>\r\n            <span>password:</span>\r\n            <input type = \"password\"\r\n            onChange = {(e)=>setPassword(e.target.value)}/>\r\n        </label>\r\n\r\n        {!isPending && <button className = \"btn\"onClick = {handleSubmit}>Sign up</button>}\r\n        {isPending && <button className = \"btn\" disabled>loading</button>}\r\n        {error && <p>{error}</p>}\r\n    </form>\r\n  )\r\n}\r\n","import {useState, useEffect} from 'react';\r\nimport { projectAuth } from '../firebase/config';\r\nimport { useAuthContext } from './useAuthContext';\r\n\r\nexport const useSignup = ()=>{\r\n\r\n    const [isCancelled, setIsCancelled] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [isPending,setIsPending] = useState(false);\r\n    const {dispatch} = useAuthContext();\r\n    const signup = async (email,password,displayName) =>{\r\n        setError(null);\r\n        setIsPending(true);\r\n\r\n        try\r\n        {\r\n            //signup user\r\n            const response = await projectAuth.createUserWithEmailAndPassword(email,password);\r\n\r\n\r\n            if(!response)\r\n            {\r\n                throw new Error(\"Could not complete signup\");\r\n            }\r\n\r\n            // add display name to user\r\n            await response.user.updateProfile({displayName})\r\n\r\n            // dispatch login action\r\n            dispatch({type:'LOGIN', payload:response.user})\r\n\r\n            if(!isCancelled)\r\n            {\r\n                setIsPending(false);\r\n                setError(null);\r\n            }\r\n\r\n        }\r\n        catch(err)\r\n        {\r\n            if(!isCancelled)\r\n            {\r\n                console.log(err.message);\r\n                setError(err.message);\r\n                setIsPending(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        return ()=>{\r\n            setIsCancelled(true);\r\n        }\r\n    },[])\r\n\r\n    return {error, isPending, signup}\r\n}\r\n","import { Link } from \"react-router-dom\";\r\nimport styles from './Navbar.module.css'\r\n\r\nimport { useLogout } from \"../hooks/useLogout\";\r\nimport { useAuthContext } from \"../hooks/useAuthContext\";\r\n\r\n\r\nexport default function Navbar() {\r\n\r\n    const {logout} = useLogout();\r\n    const {user} = useAuthContext();\r\n\r\n\r\n  return (\r\n    <nav className = {styles.navbar}>\r\n       <ul>\r\n        <li className = {styles.title}>\r\n            Finance App\r\n        </li>\r\n        {!user && (\r\n        <>\r\n        <li> <Link to =\"/Login\">Login</Link></li>\r\n        <li> <Link to =\"/Signup\">Signup</Link></li>\r\n        </>\r\n        )}\r\n\r\n        {user && (\r\n            <>\r\n            <li>hello, {user.displayName}</li>\r\n            <li><button className = \"btn\" onClick = {logout}>Logout</button></li>\r\n            </>\r\n        )}\r\n\r\n\r\n       </ul>\r\n    </nav>\r\n  )\r\n}\r\n","import {useState, useEffect} from 'react';\r\nimport { projectAuth } from '../firebase/config';\r\nimport { useAuthContext } from './useAuthContext';\r\n\r\n// in the component we are trying to do something\r\n// that is trying to logout waiting for backend to\r\n// actually logout and then do changes in state in that page\r\n// but we are on different page so can't change states on that page\r\n// but if we unmount the component in between the process\r\n// then our cleanup function fires\r\n// where we set isCancelled as true and we put\r\n// consition for changing the state this condition\r\n//\r\n\r\n\r\nexport const useLogout = () =>{\r\n\r\n    const [isCancelled, setIsCancelled] = useState(false);\r\n    const [error,setError] = useState(null);\r\n    const [IsPending,setIsPending] = useState(false);\r\n    const {dispatch} = useAuthContext();\r\n\r\n    const logout = async ()=>{\r\n        setError(null);\r\n        setIsPending(true);\r\n\r\n    try {\r\n        await projectAuth.signOut();\r\n        // dispatch logout action\r\n        dispatch({type:'LOGOUT'})\r\n\r\n        if(!isCancelled)\r\n        {\r\n            setIsPending(false);\r\n            setError(null);\r\n        }\r\n\r\n    } catch (err) {\r\n        if(!isCancelled)\r\n        {\r\n            console.log(err.message)\r\n            setError(err.message);\r\n            setIsPending(false);\r\n        }\r\n    }\r\n}\r\nuseEffect(()=>{\r\n    return ()=>{\r\n        setIsCancelled(true);\r\n    }\r\n},[])\r\n\r\n    return {logout}\r\n}\r\n","import './App.css'\r\nimport { useAuthContext } from './hooks/useAuthContext';\r\nimport {BrowserRouter, Switch, Route,Redirect} from 'react-router-dom';\r\nimport Home from '../src/pages/home/Home';\r\nimport Login from '../src/pages/login/Login';\r\nimport Signup from '../src/pages/signup/Signup'\r\nimport Navbar from './components/Navbar';\r\nfunction App() {\r\n    const {authIsReady,user} = useAuthContext();\r\n  return (\r\n    <div className=\"App\">\r\n\r\n        {authIsReady && (\r\n            <BrowserRouter>\r\n            <Navbar/>\r\n            <Switch>\r\n                <Route exact path = \"/\">\r\n                    {!user && <Redirect to = \"/Login\"/>}\r\n                    {user && <Home/>}\r\n                </Route>\r\n\r\n                <Route  path = \"/Login\">\r\n                    {user && <Redirect to=\"/\"/>}\r\n                    {!user &&  <Login/>}\r\n                </Route>\r\n\r\n                <Route  path = \"/Signup\">\r\n                    {user && <Redirect to=\"/\"/>}\r\n                    {!user &&   <Signup/>}\r\n                </Route>\r\n\r\n            </Switch>\r\n\r\n        </BrowserRouter>\r\n\r\n        )}\r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nimport {useAuthContext} from '../src/hooks/useAuthContext'\r\n\r\nimport {AuthContextProvider} from './context/AuthContext';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthContextProvider>\r\n    <App />\r\n    </AuthContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}